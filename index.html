<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Project Approval System</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Authentication Section -->
  <div id="authSection" class="auth-container">
    <div class="auth-card">
      <div class="auth-header">
        <div class="auth-icon">üèõÔ∏è</div>
        <h1 class="auth-title">Project Approval System</h1>
        <p class="auth-subtitle">Student Activities and Leadership Development</p>
      </div>
      <div class="role-tabs">
        <div class="role-tab active" data-role="student">Student</div>
        <div class="role-tab" data-role="admin">Admin</div>
      </div>
      <form id="loginForm">
        <div class="form-group">
          <label for="loginEmail">Email Address</label>
          <input type="email" id="loginEmail" required placeholder="your.email@example.com" />
        </div>
        <div class="form-group">
          <label for="loginPassword">Password</label>
          <input type="password" id="loginPassword" required placeholder="Enter your password" />
        </div>
        <button type="submit" class="btn btn-block">Sign In</button>
      </form>
      <form id="registerForm" style="display: none;">
        <div class="form-group">
          <label for="registerName">Full Name</label>
          <input type="text" id="registerName" required placeholder="John Doe" />
        </div>
        <div class="form-group">
          <label for="registerEmail">Email Address</label>
          <input type="email" id="registerEmail" required placeholder="your.email@example.com" />
        </div>
        <div class="form-group student-field">
          <label for="registerStudentId">Student ID</label>
          <input type="text" id="registerStudentId" placeholder="20234824932" />
        </div>
        <div class="form-group student-field">
          <label for="registerOrganization">Organization</label>
          <select id="registerOrganization">
            <option value="">Select your organization</option>
            <option value="Rotaract Club">Rotaract Club</option>
            <option value="Student Council">Student Council</option>
            <option value="Computer Science Society">Computer Science Society</option>
          </select>
        </div>
        <div class="form-group">
          <label for="registerPassword">Password</label>
          <input type="password" id="registerPassword" required placeholder="Create a password" />
        </div>
        <div class="form-group">
          <label for="registerConfirmPassword">Confirm Password</label>
          <input type="password" id="registerConfirmPassword" required placeholder="Confirm your password" />
        </div>
        <button type="submit" class="btn btn-block">Create Account</button>
      </form>
      <div class="auth-footer">
        <p id="authToggleText">Don't have an account? <button class="auth-toggle" id="authToggleBtn">Sign up</button></p>
      </div>
    </div>
  </div>

  <!-- Application Section -->
  <div id="appSection" class="app-container">
    <header>
      <div class="container">
        <div class="header-content">
          <div class="logo">
            <span class="logo-icon">üèõÔ∏è</span>
            <span>Project Approval System</span>
          </div>
          <div class="user-info">
            <span id="userName">User Name</span>
            <div id="userAvatar" class="user-avatar"></div>
            <button id="logoutBtn" class="btn btn-secondary">Logout</button>
          </div>
        </div>
      </div>
    </header>
    <nav class="nav-tabs">
      <div class="container">
        <div id="studentNav" style="display: none;">
          <div class="nav-tab active" data-tab="student-dashboard">My Dashboard</div>
          <div class="nav-tab" data-tab="student-submit">Submit Project</div>
          <div class="nav-tab" data-tab="student-submissions">My Submissions</div>
        </div>
        <div id="adminNav" style="display: none;">
          <div class="nav-tab active" data-tab="admin-dashboard">Review Dashboard</div>
          <div class="nav-tab" data-tab="admin-submissions">All Submissions</div>
          <div class="nav-tab" data-tab="admin-users">User Management</div>
        </div>
      </div>
    </nav>
    <main class="container">
      <!-- Student Dashboard -->
      <div id="student-dashboard" class="tab-content">
        <h2 class="section-title">My Project Dashboard</h2>
        <div class="stats-grid" id="studentStats"></div>
      </div>

      <!-- Student Submit -->
      <div id="student-submit" class="tab-content">
        <h2 class="section-title">Submit New Project Proposal</h2>
        <div class="card">
          <form id="submissionForm">
            <div class="form-group">
              <label for="title">Project Title *</label>
              <input type="text" id="title" name="title" required />
            </div>
            <div class="form-group">
              <label for="organization">Organization *</label>
              <select id="organization" name="organization" required>
                <option value="">Select your organization</option>
                <option value="Rotaract Club">Rotaract Club</option>
                <option value="Student Council">Student Council</option>
                <option value="Computer Science Society">Computer Science Society</option>
              </select>
            </div>
            <div class="form-group">
              <label for="objectives">Objectives *</label>
              <textarea id="objectives" name="objectives" required rows="3"></textarea>
            </div>
            <div class="form-group">
              <label for="description">Project Description</label>
              <textarea id="description" name="description" rows="4"></textarea>
            </div>
            <div class="form-grid">
              <div class="form-group">
                <label for="budget">Budget (‚Ç±) *</label>
                <input type="number" id="budget" name="budget" step="0.01" min="0" required />
              </div>
              <div class="form-group">
                <label for="venue">Venue *</label>
                <input type="text" id="venue" name="venue" required />
              </div>
            </div>
            <div class="form-group">
              <label for="dateOfActivity">Date of Activity *</label>
              <input type="date" id="dateOfActivity" name="dateOfActivity" required />
            </div>
            <div class="form-actions">
              <button type="button" id="cancelSubmission" class="btn btn-secondary">Cancel</button>
              <button type="submit" class="btn">Submit Proposal</button>
            </div>
          </form>
        </div>
      </div>

      <!-- Student Submissions -->
      <div id="student-submissions" class="tab-content">
        <h2 class="section-title">My Project Submissions</h2>
        <div class="card">
          <table>
            <thead>
              <tr>
                <th>Title</th>
                <th>Organization</th>
                <th>Date Submitted</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="studentSubmissionsTableBody"></tbody>
          </table>
        </div>
      </div>

      <!-- Admin Dashboard -->
      <div id="admin-dashboard" class="tab-content">
        <h2 class="section-title">Review Dashboard</h2>
        <div class="quick-actions">
          <button class="quick-action-btn" id="quickReviewBtn">
            <span>‚ö°</span>
            Quick Review
          </button>
          <button class="quick-action-btn" id="exportReportsBtn">
            <span>üìä</span>
            Export Reports
          </button>
          <button class="quick-action-btn" id="manageTemplatesBtn">
            <span>üìù</span>
            Manage Templates
          </button>
        </div>
        
        <!-- Status Filters -->
        <div class="status-filters" id="dashboardStatusFilters">
          <button class="status-filter active" data-status="all">All</button>
          <button class="status-filter" data-status="pending">Pending</button>
          <button class="status-filter" data-status="approved">Approved</button>
          <button class="status-filter" data-status="revisions">Revisions</button>
          <button class="status-filter" data-status="disapproved">Disapproved</button>
        </div>

        <!-- Project Submissions List -->
        <div class="card">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
            <h3>Project Submissions</h3>
            <div style="font-size: 0.9rem; color: var(--gray);">
              Showing: <span id="currentFilterDisplay">All Submissions</span>
            </div>
          </div>
          <div id="pendingReviewsList"></div>
        </div>
      </div>

      <!-- Admin Submissions -->
      <div id="admin-submissions" class="tab-content">
        <div class="table-actions">
          <div class="filter-controls">
            <select id="adminOrganizationFilter">
              <option value="">All Organizations</option>
              <option value="Rotaract Club">Rotaract Club</option>
              <option value="Student Council">Student Council</option>
              <option value="Computer Science Society">Computer Science Society</option>
            </select>
            <select id="adminStatusFilter">
              <option value="">All Status</option>
              <option value="Pending">Pending</option>
              <option value="Approved">Approved</option>
              <option value="Revisions">Revisions</option>
              <option value="Disapproved">Disapproved</option>
            </select>
          </div>
          <div class="action-buttons">
            <button class="btn btn-export" id="exportSubmissionsBtn">Export CSV</button>
            <button class="btn btn-print" id="printSubmissionsBtn">Print</button>
          </div>
        </div>
        <h2 class="section-title">All Project Submissions</h2>
        <div class="card">
          <table>
            <thead>
              <tr>
                <th>Title</th>
                <th>Organization</th>
                <th>Submitted By</th>
                <th>Date Submitted</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="adminSubmissionsTableBody"></tbody>
          </table>
        </div>
      </div>

      <!-- Admin Users -->
      <div id="admin-users" class="tab-content">
        <div class="table-actions">
          <h2 class="section-title">User Management</h2>
          <div class="action-buttons">
            <button class="btn" id="addUserBtn">Add User</button>
            <button class="btn btn-export" id="exportUsersBtn">Export Users</button>
          </div>
        </div>
        <div class="card">
          <table>
            <thead>
              <tr>
                <th>User</th>
                <th>Role</th>
                <th>Organization</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="userManagementTable"></tbody>
          </table>
        </div>
      </div>
    </main>
  </div>

  <!-- Modals -->
  <div id="viewSubmissionModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Project Proposal Details</h3>
        <button class="modal-close" id="closeViewModal">&times;</button>
      </div>
      <div class="modal-body">
        <div class="details-grid">
          <div class="detail-item">
            <h4>Project Title</h4>
            <p id="viewTitle">-</p>
          </div>
          <div class="detail-item">
            <h4>Organization</h4>
            <p id="viewOrganization">-</p>
          </div>
          <div class="detail-item">
            <h4>Submitted By</h4>
            <p id="viewSubmittedBy">-</p>
          </div>
          <div class="detail-item">
            <h4>Status</h4>
            <p id="viewStatus">-</p>
          </div>
          <div class="detail-item">
            <h4>Objectives</h4>
            <p id="viewObjectives">-</p>
          </div>
          <div class="detail-item">
            <h4>Budget</h4>
            <p id="viewBudget">-</p>
          </div>
          <div class="detail-item">
            <h4>Venue</h4>
            <p id="viewVenue">-</p>
          </div>
          <div class="detail-item">
            <h4>Date of Activity</h4>
            <p id="viewDateOfActivity">-</p>
          </div>
          <div class="detail-item" style="grid-column: 1 / -1;">
            <h4>Description</h4>
            <p id="viewDescription">-</p>
          </div>
          <div class="detail-item">
            <h4>Date Submitted</h4>
            <p id="viewDateSubmitted">-</p>
          </div>
        </div>
        <div class="comments-section">
          <h4>Comments</h4>
          <div id="commentsContainer"></div>
          <form id="updateStatusForm" style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid #e2e8f0;">
            <h5>Update Status & Add Comment</h5>
            <div class="form-group">
              <label for="statusUpdate">Status *</label>
              <select id="statusUpdate" name="status" required>
                <option value="Pending">Pending</option>
                <option value="Approved">Approved</option>
                <option value="Revisions">Revisions</option>
                <option value="Disapproved">Disapproved</option>
              </select>
            </div>
            <div class="form-group">
              <label for="commentText">Comment</label>
              <textarea id="commentText" name="comment" rows="3"></textarea>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn">Update Status</button>
            </div>
          </form>
        </div>
        <div class="modal-actions" id="modalActions">
          <button class="btn btn-secondary" id="printProposalBtn">Print Proposal</button>
          <button class="btn btn-success" id="approveBtn">Approve</button>
          <button class="btn btn-warning" id="requestRevisionsBtn">Request Revisions</button>
          <button class="btn btn-danger" id="disapproveBtn">Disapprove</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Notification -->
  <div id="successNotification" class="notification">
    <span>‚úÖ</span>
    <span id="successMessage">Operation completed successfully!</span>
  </div>

  <!-- Scripts -->
  <script src="reset.js"></script>
  <script type="module" src="js/data.js"></script>
  <script type="module" src="js/ui.js"></script>
  <script type="module" src="js/auth.js"></script>
  <script type="module" src="js/student.js"></script>
  <script type="module" src="js/admin.js"></script>
</body>
</html>